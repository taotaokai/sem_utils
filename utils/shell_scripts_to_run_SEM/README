# Work flow

First, build the programs with specified configuration files.

0) create base directory folder structure.
1) put *.h.in and Par_file into $BASE/SEM_setup
2) ./build.sh, this configure/make the programs.

Iteratively updaing the earth model and source parameters:

Before each new iteration:
1) edit Par_file
	set parameters before the first iteration, only iter= need be changed afterward unless you changed the project folders.

2) check Par_file
	$ ./check_par.sh

3) setup the folder structure
	./setup.sh

4) create mesh database
	./run_mesher.sh, this will create the job script that you should check and submit by yourself.

5) run forward simulations
	./run_forward.sh, this also create the job script, and you should check and submit it.

6) measure data residuals and create adjoint sources 
	./make_adj_sources.sh, you may need to check the waveform misfit in this step.

7) run adjoint simulations
	./run_adjoint.sh

8) sum event kernels
    ./sum_event_kernel.sh

8) update earth model and source parameters
	./update_model.sh

Then start a new iteration.
